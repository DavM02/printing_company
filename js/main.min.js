$(document).ready((function(){const e=$(".mainButton[data-type].active").data("type");$("div[data-type]").not(`[data-type="${e}"]`).css({display:"none"}),$('div[data-type="'+e+'"]').css("display","block");let t=!0;function s(){t=!0}$(".mainButton[data-type]").on("click",(function(){if(t){t=!1,setTimeout(s,1800),$(".mainButton").removeClass("active"),$(this).addClass("active");const e=$(this).data("type");$("#catalog-filter h2").text("Catalog "+e),$("div[data-type]").not(`[data-type="${e}"]`).css("animation","disappear 1s cubic-bezier(.88,.68,.18,.97) forwards"),setTimeout((()=>{$("div[data-type]").not(`[data-type="${e}"]`).css("display","none")}),1e3),setTimeout((()=>{$('div[data-type="'+e+'"]').css("display","block")}),1e3),$('div[data-type="'+e+'"]').css("animation","appear 1.8s cubic-bezier(.88,.68,.18,.97) forwards")}}))}));const secondsDiv=$("#seconds"),minutesDiv=$("#minutes"),hoursDiv=$("#hours"),daysDiv=$("#days"),monthsDiv=$("#months"),yearsDiv=$("#years");let targetDate=new Date("2027-08-08T21:07:59");function updateTimer(){const e=new Date;let t=targetDate-e;t<=0&&(targetDate.setFullYear(targetDate.getFullYear()+1),t=targetDate-e);const s=Math.floor(t/1e3)%60,o=Math.floor(t/6e4)%60,r=Math.floor(t/36e5)%24,a=Math.floor(t/864e5)%30,n=Math.floor(t/2592e6)%12,i=Math.floor(t/31536e6);secondsDiv.text(`${s}`),minutesDiv.text(`${o}`),hoursDiv.text(`${r}`),daysDiv.text(`${a}`),monthsDiv.text(`${n}`),yearsDiv.text(`${i}`)}setInterval(updateTimer,1e3),updateTimer();const customCursor=$("#custom-cursor");let isInsideElement=!1;function updateCursorPosition(e){const{clientX:t,clientY:s}=e;customCursor[0].style.transform=`translate(${t}px, ${s}px)`}function applyStylesOnResize(){window.innerWidth<=993?customCursor.remove():$("body").append(customCursor)}window.addEventListener("mousemove",(function(e){isInsideElement&&updateCursorPosition(e)})),window.addEventListener("resize",applyStylesOnResize),applyStylesOnResize();const hero=document.getElementById("hero");function addClassesToElement(e,t){const s=$(e);s.length&&(s.on("mouseenter",(function(){customCursor.addClass("show-cursor"),t.forEach((e=>customCursor.addClass(e))),isInsideElement=!0})),s.on("mouseleave",(function(){customCursor.removeClass("show-cursor"),t.forEach((e=>customCursor.removeClass(e))),isInsideElement=!1})))}hero&&(hero.addEventListener("mouseenter",(function(){customCursor.addClass("show-cursor"),isInsideElement=!0})),hero.addEventListener("mouseleave",(function(){customCursor.removeAttr("class"),isInsideElement=!1}))),addClassesToElement("#services li",["inside-table"]),addClassesToElement("#categoriesTable",["inside-table"]),addClassesToElement("#types",["inside-items"]),addClassesToElement("#calculatePrice",["inside-items"]),addClassesToElement("#catalog-filter .item",["inside-table"]),addClassesToElement("#productItem .item:nth-child(1)",["inside-table"]),addClassesToElement("#productItem .item:nth-child(2)",["inside-items"]);const currentYear=(new Date).getFullYear(),dateElement=document.querySelector(".date");dateElement&&(dateElement.textContent=`@2020 - ${currentYear} All rights reserved`),$(document).ready((function(){const e=$(".slide-in"),t=$("#works .item"),s=gsap.timeline({paused:!0}),o=$(".image-modal"),r=$("#works .item img");r.attr("title","open"),s.to(t,{duration:1,ease:"power3.inOut",clipPath:"inset(0 100% 0 0)"}).to(e,{duration:1,ease:"Power1.easeOut",height:"100%"}).to(o,{duration:1,ease:"power4.inOut",clipPath:"inset(0% 0% 0% 0%)"}),r.click((function(){const e=$(this).attr("src");$(".image-modal img").attr("src",e),s.play(),$(".transition-wrapper").css("pointerEvents","all")})),$(".toClose").click((function(){s.reverse(),$(".transition-wrapper").css("pointerEvents","none")}))})),document.addEventListener("DOMContentLoaded",(function(){$(document).ready((function(){let e=!0,t=!0;const s=$("header .container"),o=$(".toggleLine"),r=$("html");$(".toggleBtn").click((function(){t&&(t=!1,setTimeout((function(){t=!0}),1e3),e?(s.addClass("oppened"),o.addClass("active"),r.addClass("no-scroll"),e=!1):(r[0].removeAttribute("class"),s.removeClass("oppened"),o.removeClass("active"),e=!0))}))}))})),window.addEventListener("load",(function(){const e=document.querySelector(".percentage");let t=0;const s=setInterval((function(){if(t<100){const s=Math.floor(16*Math.random());t=Math.min(t+s,100),e&&(e.innerText=`${t}%`)}else clearInterval(s)}),60);$("body").css("cursor","wait"),setTimeout((()=>{$(".preloader-container").remove(),$("body").css("cursor","initial")}),4e3),gsap.to(".percentage",.25,{delay:1.8,opacity:0}),gsap.to(".col",1.5,{delay:1.8,height:0,stagger:{amount:.5},ease:"power4.inOut"})}));const url="https://catalog-97a76-default-rtdb.asia-southeast1.firebasedatabase.app/eng.json";let params=new URLSearchParams(window.location.search),type=params.get("type"),subtype=params.get("subtype");if(type&&subtype){const e=localStorage.getItem(`${type}_${subtype}_productData`);fetch(url).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((t=>{const s=t[type][subtype];if(e){const t=JSON.parse(e);isEqual(t,s)?(console.log("Using cached data"),updatePageWithProductData(t)):(console.log("Data has changed on the server. Updating..."),updatePageWithProductData(s),localStorage.setItem(`${type}_${subtype}_productData`,JSON.stringify(s)))}else console.log("Fetching data from server for the first time"),updatePageWithProductData(s),localStorage.setItem(`${type}_${subtype}_productData`,JSON.stringify(s))})).catch((t=>{console.error("There was a problem with the fetch operation:",t),e&&(console.log("Using cached data due to fetch error"),updatePageWithProductData(JSON.parse(e)))}))}function updatePageWithProductData(e){document.getElementById("productName").textContent=e.name,document.getElementById("productPrice").textContent=e.price,document.getElementById("currentDirection").textContent=e.name,document.getElementById("productDescription").textContent=e.description,$(".product-marquee .marquee-content").text(`${e.name}`);let t=e.images,s=document.querySelectorAll("#mainSlider .swiper-slide img"),o=document.querySelectorAll("#thumbsSlider .swiper-slide img"),r=0;for(let a in t)if(t.hasOwnProperty(a)){let n=t[a],i=e.name;s[r].src=n,o[r].src=n,s[r].alt=i,o[r].alt=i,r++}}function isEqual(e,t){return JSON.stringify(e)===JSON.stringify(t)}const swiper=new Swiper("#works-slide",{slidesPerView:.4,centeredSlides:!1,grabCursor:!0,freeMode:!0,speed:"1000",spaceBetween:20,scrollbar:{el:".swiper-scrollbar"},breakpoints:{992:{slidesPerView:1}}}),swiper2=new Swiper("#reviews-slide",{centeredSlides:!1,slidesPerView:1,grabCursor:!0,freeMode:!0,spaceBetween:30,speed:"1000",scrollbar:{el:".swiper-scrollbar"},breakpoints:{552:{slidesPerView:2,spaceBetween:30},768:{slidesPerView:2,spaceBetween:50},992:{slidesPerView:3,spaceBetween:50},1290:{slidesPerView:4,spaceBetween:100}}}),swiper3=new Swiper("#partners-slide",{centeredSlides:!1,slidesPerView:2,speed:"1000",grabCursor:!0,freeMode:!0,spaceBetween:30,scrollbar:{el:".swiper-scrollbar"},breakpoints:{552:{slidesPerView:3,spaceBetween:50},768:{slidesPerView:5,spaceBetween:50},992:{slidesPerView:6,spaceBetween:50},1290:{slidesPerView:7,spaceBetween:74}}}),swiper4=new Swiper("#thumbsSlider",{loop:!1,spaceBetween:10,slidesPerView:4,slidesPerView:4,watchSlidesProgress:!0}),swiper5=new Swiper("#product-slide",{loop:!1,slidesPerView:"auto",speed:"1000",thumbs:{swiper:swiper4}});Scrollbar.use(OverscrollPlugin);let options={damping:.06,alwaysShowTracks:!0,plugins:{overscroll:{effect:"glow",glowColor:"#ffffff3b"}}};const bodyScrollBar=Scrollbar.init(document.querySelector("#scroll-wrapper"),options),footerNav=document.querySelectorAll("footer ul");function getSectionParam(){const e=new URLSearchParams(window.location.search).get("section");if(e){const t=document.querySelector(`#${e}`);t&&setTimeout((()=>{bodyScrollBar.scrollTo(0,t.offsetTop,2e3)}),3e3)}}function scrollToSection(e,t){const s=document.querySelector(e);s&&bodyScrollBar.scrollTo(0,s.offsetTop,t)}footerNav.forEach((e=>{e.querySelectorAll("a").forEach((function(e){e.addEventListener("click",(function(t){const s=e.getAttribute("href");if(s.startsWith("#")){t.preventDefault();const e=document.querySelector(s);if(e)bodyScrollBar.scrollTo(0,e.offsetTop,2e3);else{const e=new URLSearchParams;e.set("section",s.substring(1)),window.location.href="index.html?"+e.toString()}}}))}))})),getSectionParam(),$(document).ready((function(){function e(){window.innerWidth<=576?$("header").insertBefore($("#scroll-wrapper")):$("header").insertBefore($("main"))}e(),$(window).on("resize",(function(){e()}))}));